

> 题目：Automatic Generation of Chinese Calligraphic Writings with Style Imitation
>
> 来源：2008
>
> 作者：



早期手写字体的生成，笔迹模仿基本都是基于对字符的拓扑结构和笔画部件分别建模来实现的。受此思路启发，应用于GAN。

### motivation

我们需要引入不同的拓扑模型和额外的稳定性模型来捕捉中国书法家的笔迹特征

### structure

#### Representing Stroke Shapes

笔划是字符的组成部分，我们推导了笔划形状的参数表示对于每个笔划图像，我们应用细化算法提取笔划的骨架，这是一个单像素宽的轨迹。在骨架的每个像素处，我们沿着骨架的局部法线方向绘制一条线。笔划内部区域内的线条长度被视为笔划的局部宽度

我们采用基于形状生成的过程来简洁地表示单笔画的形状。

<img src="https://xiaoguciu.oss-cn-beijing.aliyuncs.com/imgimage-20211011161651706.png" alt="image-20211011161651706" style="zoom:50%;" />

### Representing Character Topology

拓扑结构，即通过正确定位单个笔划形成字符形状的方式，受基于边界框的描述多笔划之间空间关系的启发，我们根据角色所有笔划的边界框之间的空间关系来表示角色的拓扑。

更具体地说，对于某个字符C，假设它由n个笔划S1、S2、…、Sn组成。我们将笔划Si的边界框表示为Bi。对于C中的每一对笔划Si和Sj，我们引入了两个特征，fx（Si，Sj）和fy（Si，Sj），以表示Bi和Bj之间的水平和垂直重叠。在这两个特征的基础上，我们可以构造两个矩阵Fx和Fy，两个矩阵的维数均为n×n，以捕获字符C中所有笔划之间的空间关系。与我们通过形状生成过程表示笔划形状的方式大致相同，我们还通过拓扑生成过程表示字符拓扑，以实现存储优化表示。基本上，我们通过对其他几个字符的拓扑进行加权平均来生成角色的拓扑。由于我们以矩阵形式表示字符的拓扑结构，因此我们可以通过标准矩阵乘法和加法实现这种基于加权平均的角色拓扑生成过程。图2（参见下一页）说明了如何通过对几个给定的字符拓扑进行加权平均来生成新的字符拓扑。

### Representing Personal Handwriting Characteristics

人类书写者很可能每次都以不同的方式书写特定的笔划或字符，而字体系统总是生成相同的输出。在本节中，我们将研究如何表示个人笔迹的这些特征，包括表示个人笔迹稳定性的形状和拓扑方面。

### Acquiring Personal Handwriting Characteristics

我们还必须确定一个人是否多次书写同一笔画。为此，我们将每个分解的笔划与一个属性相关联，表示由传统汉字形成方法确定的笔划类别，我们可以根据骨架的形状对笔画进行分类。我们认为笔画样本与同一笔画的多个样本具有相同的属性。因此，我们可以通过计算多个样本是否被归入所需类别来确定一个人是否多次书写同一笔画。在我们当前的原型系统实现中，我们支持50种最常用的汉字笔划类型。一旦准备好了训练数据，我们就使用上一节介绍的方法来捕捉各个作家的个人笔迹特征。

### Reasoning on Personal Handwriting Characteristics

为了重现作家W在字符C（表示为CW）上的笔迹，我们推断字符的拓扑结构及其所有组成笔划的形状。然后，我们将笔画组合成该角色的书法表现形式。

##### 拓扑：Determining a Target Character’s Topology

首先提取标准字体的拓扑结构，使用“表示字符拓扑”部分中介绍的方法。然后，我们的系统检索writer W以前写的所有字符。其中，我们丢弃了所有包含与CW不同笔划数的字符。我们假设在剪枝过程之后仍然保留o个字符，它们被表示为<img src="https://xiaoguciu.oss-cn-beijing.aliyuncs.com/imgimage-20211011200838781.png" alt="image-20211011200838781" style="zoom: 50%;" />，它们的字符组合拓扑被导出并表示为<img src="https://xiaoguciu.oss-cn-beijing.aliyuncs.com/imgimage-20211011200932854.png" alt="image-20211011200932854" style="zoom:50%;" /> ，然后我们可以导出第i个字符CWi的拓扑与CWstd as的拓扑之间的距离，<img src="https://xiaoguciu.oss-cn-beijing.aliyuncs.com/imgimage-20211011201032684.png" alt="image-20211011201032684" style="zoom:50%;" /> ，然后，我们确定了五个字符，它们在最小拓扑距离方面具有与$C_W^{std}$ 最相似的五种拓扑关系。我们将它们表示为$C_W^1、C_W^2、…、C_W^5$ ，它们到$C_W^{std}$的总体拓扑距离分别表示为Y1、Y2、…、Y5。五种拓扑关系中的每一种都与“表示拓扑方面的稳定性”小节中推导的手写稳定性因子相关联。我们分别将它们表示为<img src="https://xiaoguciu.oss-cn-beijing.aliyuncs.com/imgimgimage-20211011201509361.png" alt="image-20211011201509361" style="zoom:50%;" /> 为了确定目标字符$C_W$ 的拓扑，我们随机选择五个角色的拓扑之一，选择第i个角色拓扑的概率为$v_i$ 。我们将$v_i$ 计算为

<img src="https://xiaoguciu.oss-cn-beijing.aliyuncs.com/imgimage-20211011201625935.png" alt="image-20211011201625935" style="zoom:50%;" />

本质上，我们确定了作者先前创建的一些最相似的角色组合拓扑关系，并以随机方式优化选择其中一个。通过这种案例识别和重用方法，我们确定了用于合成目标角色CW的拓扑结构。

##### 确定目标角色的笔划形状Determining a Target Character’s Stroke Shapes

为了确定我们将再现的笔划形状，我们需要引入笔划上下文的概念。对于某个字符的笔划s，我们首先找到其最近的四个笔划，表示为SN1、SN2、…、SN4。此处，两个笔划之间的距离定义为两个点之间的最短距离，每个笔划上一个点。然后我们构造两个1×4向量，

<img src="https://xiaoguciu.oss-cn-beijing.aliyuncs.com/imgimage-20211011202213788.png" alt="image-20211011202213788" style="zoom:50%;" />

使用“表示字符拓扑”一节中介绍的函数fx和fy描述笔划S周围的局部拓扑上下文。给定这两个上下文描述向量，我们可以测量两个笔划S1、S2之间的上下文差异，如下所示：<img src="https://xiaoguciu.oss-cn-beijing.aliyuncs.com/imgimage-20211011202311519.png" alt="image-20211011202311519" style="zoom:50%;" />

使用该度量，我们可以进一步定义笔划S1和S2之间的总体差异，即使用Rsha（·，·）的Rovl（S1，S2）=Rctx（S1，S2）+Rsha（S1，S2），如“测量成对形状距离”小节中所述。对于构成目标字符CW的笔划，同样通过参考CWstd。我们假设CWstd包含n个笔划，即SW 1、SW 2、…、Sn W。对于每个笔划Si W，我们查找由书写者W创建的与Si W具有相同笔划类型的所有笔划（有关笔划类型属性，请参阅“获取个人手写特征”一节）。假设检索到的笔划为Si 1、Si 2、…、Sio。我们使用公制Rovl（·，·）从其中选择五个笔画，它们产生到Si W的最小总距离。我们将它们各自的距离表示为θ1ovl、θ2ovl、…、θ5ovl。使用“表示形状方面的稳定性”小节中介绍的程序，我们还可以导出这些笔划形状的书写稳定性，如φ1sha、…、φ5sha。最后，为了确定笔划Si W的形状，我们从上面任意选择一个！以μi的概率选择笔划形状i。我们将μi计算为

<img src="https://xiaoguciu.oss-cn-beijing.aliyuncs.com/imgimage-20211011202930987.png" alt="image-20211011202930987" style="zoom:50%;" />

通过这种方式，我们确定笔画的形状，方法是识别并随机重用作者创建的上下文最相似的笔画。通过此过程，我们确定合成目标角色CW所需的所有笔划形状。然后，我们根据“测量两两形状距离”小节中确定的字符组合拓扑来组装它们

### 流程

### Preprocessing stage

1、提取所有组成笔划形状的参数表示以及这些字符的拓扑关系。

2、捕捉作者笔迹形状和拓扑方面的稳定性因素。

### 要以writer W的笔迹样式复制字符C，表示为Cw，

1a。发现先前所写的拓扑关系中与CW std最相似的拓扑关系。

1b。随机选择其中一个！根据书写者的拓扑结构方面的笔迹稳定性。

2a。对于我们想要模仿的字符 C中的每个笔划S，找出最适合复制的前五个笔划形状

2b。随机选择其中一个！

3.根据步骤1b中再现的字符拓扑，组装步骤2b中识别的所有笔画形状，以再现书法作品。

### Acquiring Personal Handwriting Characteristics



1我们介绍了一种用于捕获个人笔迹特征的统计形状建模方法。通过对个人笔迹中的不确定性进行建模，我们可以生成一个人笔迹的最忠实的复制品





### 不足

将来，当我们将工作扩展到模仿草书风格时，我们的笔画顺序独立性假设可能会导致失败，并且需要新的算法创新来实现！